# --- 1. DYNAMIC MONITOR CONFIG ---
# This file is generated dynamically by steam-session.sh based on Sunshine requests
source = ~/.config/hypr/monitor.conf

# --- 2. EXPERIMENTAL HDR ---
experimental {
    hdr = true
}

# --- 3. AUTOSTART ---
exec-once = steam -gamepadui -noverifyfiles

# --- NVIDIA FIX: SOFTWARE CURSOR ---
cursor {
    no_hardware_cursors = true
}


# --- 4. HARDWARE AGNOSTIC SETTINGS ---
# Disable hardware cursors to prevent invisible cursors on headless NVIDIA/AMD setups
env = XDG_SESSION_TYPE,wayland
env = XDG_CURRENT_DESKTOP,Hyprland

# --- 5. PERFORMANCE & UI (Kiosk Mode) ---
animations {
    enabled = false
}

decoration {
    drop_shadow = false
    blur {
        enabled = false
    }
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    # Disable Variable Frame Rate to ensure Sunshine capture remains smooth
    vfr = false 
}

# --- 6. WINDOW RULES ---
# Force Steam to always be fullscreen, preventing focus loss
windowrulev2 = fullscreen, class:^(steam)$
windowrulev2 = workspace 1, class:^(steam)$
# Allow popup windows (like Larian Launcher) to float naturally
windowrulev2 = float, class:^(.*Launcher.*)$