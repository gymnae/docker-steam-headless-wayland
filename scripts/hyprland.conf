# --- DYNAMIC MONITOR CONFIG ---
source = ~/.config/hypr/monitor.conf
env = WLR_NO_HARDWARE_CURSORS,1

# --- AUTOSTART ---
exec-once = steam -gamepadui -noverifyfiles -fulldesktopres

# --- HARDWARE CURSOR FIX ---
cursor {
    no_hardware_cursors = true
}

input {
    # List the layouts you want to support (comma-separated)
    kb_layout = us,de,fr
    
    # Use Alt+Shift to instantly cycle through them
    kb_options = grp:alt_shift_toggle
}

general {
    allow_tearing = true
}

# --- KIOSK MODE (Performance & Focus) ---
animations {
    enabled = false
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vfr = false
    
    # --- CRITICAL STEAM FOCUS FIXES ---
    # 1. Allow games to instantly steal focus from Steam when launched
    focus_on_activate = true
    
    # 2. Hyprland 0.53+ syntax (replaces new_window_takes_over_fullscreen)
    # This determines how new windows behave when a fullscreen app is active
    on_focus_under_fullscreen = 2
}
# 1. Catch the Steam Keyboard, float it, center it, pin it, and lock input focus
windowrule = match:title ^(Steam Keyboard)$, float on, center on, stay_focused on, pin on

# 2. Catch all other Steam Web overlays (achievements, friend popups)
windowrule = match:class ^(steamwebhelper)$, match:title ^(Steam)$, float on

windowrule = match:class ^(.*)$, immediate yes
